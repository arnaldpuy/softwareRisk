% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/uncertainty_fun.R
\name{uncertainty_fun}
\alias{uncertainty_fun}
\title{Uncertainty and sensitivity analysis of node and path risk}
\usage{
uncertainty_fun(all_paths_out, N, order)
}
\arguments{
\item{all_paths_out}{A list produced by \code{\link[=all_paths_fun]{all_paths_fun()}} with elements
\code{nodes} and \code{paths}. \code{nodes} must contain columns
\code{name}, \code{cyclomatic_complexity}, \code{indeg}, \code{btw};
\code{paths} must contain \code{path_id} and \code{path_nodes}.}

\item{N}{Integer. Base sample size used for Sobol' matrices.}

\item{order}{Passed to the functions \code{sobol_matrices} and
\code{sobol_indices} of the \pkg{sensobol} package to control which Sobol indices are computed (e.g.,
first/total/second order), depending on your implementation.}
}
\value{
A named list with:
\describe{
\item{nodes}{A data.table of node results.}
\item{paths}{A data.table of path results.}
}
}
\description{
Runs a full variance-based uncertainty and sensitivity analysis for
node risk scores using the results returned by
\code{\link[=all_paths_fun]{all_paths_fun()}} and the functions provided by the \pkg{sensobol} package (Puy et al. 2022).
}
\details{
To assess how sensitive the risk scores are to the choice of weighting
parameters, this function explores many alternative combinations of
weights in \eqn{(\alpha, \beta, \gamma)} and examines how resulting risk
scores vary. The weights are randomly sampled under the constraint that they
always sum to one, so each represents a different plausible balance between
complexity (cyclomatic complexity), connectivity (in-degree) and centrality (betweenness).

For each node, risk scores are repeatedly recalculated using these
alternative weight combinations, producing a distribution of possible
outcomes. This distribution is then used to quantify both overall
uncertainty in the risk scores and the relative influence of each
weight on the results.

For more information about the uncertainty and sensitivity analysis and the output
of \code{\link[=uncertainty_fun]{uncertainty_fun()}}, see the \pkg{sensobol} package (Puy et al. 2022).

The returned node table includes the following columns:
\itemize{
\item \code{name}: name of the node.
\item \code{uncertainty_analysis}: numeric vector showing the uncertainty in the risk scores for each node.
\item \code{sensitivity_indices}: a \code{data.table} showing the results of the sensitivity analysis.
}

The returned paths table includes:
\itemize{
\item \code{path_str}: sequence of function calls for each path.
\item \code{hops}: Number of edges.
\item \code{uncertainty analysis}: numeric vector showing the uncertainty in the risk score for each path.
}
}
\examples{
data(synthetic_graph)
out <- all_paths_fun(graph = synthetic_graph, alpha = 0.6, beta = 0.3,
gamma = 0.1, complexity_col = "cyclo")
results <- uncertainty_fun(all_paths_out = out, N = 2^10, order = "first")
results$nodes
results$paths

}
\references{
Puy, A., Lo Piano, S., Saltelli, A., and Levin, S. A. (2022).
\emph{sensobol: An R Package to Compute Variance-Based Sensitivity Indices}.
Journal of Statistical Software, 102(5), 1--37.
doi:10.18637/jss.v102.i05
}
